!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var t=Array.prototype.slice,i=Array.prototype.splice,n={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"auto"},s=e(window),o=e(document),r=[],a=s.height(),l=function(){for(var t=s.scrollTop(),i=o.height(),n=i-a,l=t>n?n-t:0,u=0,f=r.length;f>u;u++){var c=r[u],d=c.stickyWrapper.offset().top,h=d-c.topSpacing-l;if(c.stickyWrapper.css("height",c.stickyElement.outerHeight()),h>=t)null!==c.currentTop&&(c.stickyElement.css({width:"",position:"",top:"","z-index":""}),c.stickyElement.parent().removeClass(c.className),c.stickyElement.trigger("sticky-end",[c]),c.currentTop=null);else{var p=i-c.stickyElement.outerHeight()-c.topSpacing-c.bottomSpacing-t-l;if(0>p?p+=c.topSpacing:p=c.topSpacing,c.currentTop!==p){var m;c.getWidthFrom?m=e(c.getWidthFrom).width()||null:c.widthFromWrapper&&(m=c.stickyWrapper.width()),null==m&&(m=c.stickyElement.width()),c.stickyElement.css("width",m).css("position","fixed").css("top",p).css("z-index",c.zIndex),c.stickyElement.parent().addClass(c.className),null===c.currentTop?c.stickyElement.trigger("sticky-start",[c]):c.stickyElement.trigger("sticky-update",[c]),c.currentTop===c.topSpacing&&c.currentTop>p||null===c.currentTop&&p<c.topSpacing?c.stickyElement.trigger("sticky-bottom-reached",[c]):null!==c.currentTop&&p===c.topSpacing&&c.currentTop<p&&c.stickyElement.trigger("sticky-bottom-unreached",[c]),c.currentTop=p}var g=c.stickyWrapper.parent(),v=c.stickyElement.offset().top+c.stickyElement.outerHeight()>=g.offset().top+g.outerHeight()&&c.stickyElement.offset().top<=c.topSpacing;v?c.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):c.stickyElement.css("position","fixed").css("top",p).css("bottom","").css("z-index",c.zIndex)}}},u=function(){a=s.height();for(var t=0,i=r.length;i>t;t++){var n=r[t],o=null;n.getWidthFrom?n.responsiveWidth&&(o=e(n.getWidthFrom).width()):n.widthFromWrapper&&(o=n.stickyWrapper.width()),null!=o&&n.stickyElement.css("width",o)}},f={init:function(t){return this.each(function(){var i=e.extend({},n,t),s=e(this),o=s.attr("id"),a=o?o+"-"+n.wrapperClassName:n.wrapperClassName,l=e("<div></div>").attr("id",a).addClass(i.wrapperClassName);s.wrapAll(function(){return 0==e(this).parent("#"+a).length?l:void 0});var u=s.parent();i.center&&u.css({width:s.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===s.css("float")&&s.css({"float":"none"}).parent().css({"float":"right"}),i.stickyElement=s,i.stickyWrapper=u,i.currentTop=null,r.push(i),f.setWrapperHeight(this),f.setupChangeListeners(this)})},setWrapperHeight:function(t){var i=e(t),n=i.parent();n&&n.css("height",i.outerHeight())},setupChangeListeners:function(e){if(window.MutationObserver){var t=new window.MutationObserver(function(t){(t[0].addedNodes.length||t[0].removedNodes.length)&&f.setWrapperHeight(e)});t.observe(e,{subtree:!0,childList:!0})}else window.addEventListener?(e.addEventListener("DOMNodeInserted",function(){f.setWrapperHeight(e)},!1),e.addEventListener("DOMNodeRemoved",function(){f.setWrapperHeight(e)},!1)):window.attachEvent&&(e.attachEvent("onDOMNodeInserted",function(){f.setWrapperHeight(e)}),e.attachEvent("onDOMNodeRemoved",function(){f.setWrapperHeight(e)}))},update:l,unstick:function(t){return this.each(function(){for(var t=this,n=e(t),s=-1,o=r.length;o-->0;)r[o].stickyElement.get(0)===t&&(i.call(r,o,1),s=o);-1!==s&&(n.unwrap(),n.css({width:"",position:"",top:"","float":"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",l,!1),window.addEventListener("resize",u,!1)):window.attachEvent&&(window.attachEvent("onscroll",l),window.attachEvent("onresize",u)),e.fn.sticky=function(i){return f[i]?f[i].apply(this,t.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.sticky"):f.init.apply(this,arguments)},e.fn.unstick=function(i){return f[i]?f[i].apply(this,t.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.sticky"):f.unstick.apply(this,arguments)},e(function(){setTimeout(l,0)})});