window.whatInput=function(){"use strict";function v(){m(),y(event),n=!0,c=window.setTimeout(function(){n=!1},650)}function p(e){n||y(e)}function w(e){m(),y(e)}function m(){window.clearTimeout(c)}function y(e){var n=h(e),r=d[e.type];if("pointer"===r&&(r=b(e)),o!==r){var a=E(e),f=a.nodeName.toLowerCase(),c="input"===f?a.getAttribute("type"):null;!t.hasAttribute("data-whatinput-formtyping")&&o&&"keyboard"===r&&"tab"!==s[n]&&("textarea"===f||"select"===f||"input"===f&&i.indexOf(c)<0)||u.indexOf(n)>-1||l(r)}"keyboard"===r&&L(n)}function l(e){o=e,t.setAttribute("data-whatinput",o),-1===a.indexOf(o)&&a.push(o)}function h(e){return e.keyCode?e.keyCode:e.which}function E(e){return e.target||e.srcElement}function b(e){return"number"==typeof e.pointerType?f[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType}function L(t){-1===e.indexOf(s[t])&&s[t]&&e.push(s[t])}function k(t){var n=h(t),o=e.indexOf(s[n]);-1!==o&&e.splice(o,1)}function M(){t=document.body,window.PointerEvent?(t.addEventListener("pointerdown",p),t.addEventListener("pointermove",p)):window.MSPointerEvent?(t.addEventListener("MSPointerDown",p),t.addEventListener("MSPointerMove",p)):(t.addEventListener("mousedown",p),t.addEventListener("mousemove",p),"ontouchstart"in window&&t.addEventListener("touchstart",v)),t.addEventListener(r,p),t.addEventListener("keydown",w),t.addEventListener("keyup",w),document.addEventListener("keyup",k)}function x(){return r="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"}var t,e=[],n=!1,o=null,i=["button","checkbox","file","image","radio","reset","submit"],r=x(),u=[16,17,18,91,93],d={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch"};d[x()]="mouse";var c,a=[],s={9:"tab",13:"enter",16:"shift",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down"},f={2:"touch",3:"touch",4:"mouse"};return"addEventListener"in window&&Array.prototype.indexOf&&(document.body?M():document.addEventListener("DOMContentLoaded",M)),{ask:function(){return o},keys:function(){return e},types:function(){return a},set:l}}();